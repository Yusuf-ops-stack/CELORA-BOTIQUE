<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="/touch.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Celora | Shop</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: #F9F3EE;
  color: #444;
}

/* HEADER */
header {
  background: #E8AEB7;
  padding: 20px 60px; /* leave space for sidebar and buttons */
  text-align: center;
  color: white;
  position: relative;

}

header h1 {
  font-family: 'Playfair Display', serif;
  font-size: 40px;
  margin: 0;
}

.tagline {
  font-size: 14px;
  letter-spacing: 3px;
}

/* CART & WISHLIST BUTTONS */
.header-buttons {
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
  gap: 15px;
}

.header-buttons i {
  font-size: 24px;
  cursor: pointer;
  color: white;
  transition: 0.3s ease;
}

.header-buttons i:hover {
  color: #FFD700; /* gold hover effect */
}

/* SIDEBAR TOGGLE */
.sidebar-toggle {
  position: absolute;
  top: 20px;
  left: 20px;
  font-size: 28px;
  cursor: pointer;
  color: white;
  transition: 0.3s ease;
}

.sidebar-toggle:hover {
  color: #FFD700;
}
/* SIDEBAR */
.sidebar {
  position: fixed;
  top: 0;
  left: -100%;        /* completely offscreen */
  width: 250px;
  height: 100%;
  background: #C97B84; 
  padding: 60px 20px;
  box-shadow: 2px 0 10px rgba(0,0,0,0.2);
  transition: left 0.3s ease; /* smooth slide */
  z-index: 9999;
  overflow-y: auto;   /* scroll if content exceeds height */
}
.sidebar.active {
  left: 0; /* slide in when active */
}
.sidebar h3 {
  color: white;
  margin-bottom: 20px;
}
.sidebar a {
  display: block;
  color: white;
  text-decoration: none;
  margin: 15px 0;
  font-weight: 500;
}
.sidebar a:hover {
  text-decoration: underline;
}
/* HERO */
.hero {
  text-align: center;
  padding: 60px 20px;
}
.hero h2 {
  font-family: 'Playfair Display', serif;
  font-size: 36px;
  color: #C97B84;
}
.hero p {
  max-width: 500px;
  margin: 15px auto;
}
/* CATEGORY GRID */
.categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 30px;
  padding: 40px;
}
/* CATEGORY CARD */
.category-card {
  position: relative;
  height: 300px;
  border-radius: 20px;
  overflow: hidden;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  transition: 0.4s ease;
}

.category-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: 0.4s ease;
}

.category-card:hover img {
  transform: scale(1.1);
}

.category-overlay {
  position: absolute;
  bottom: 0;
  width: 100%;
  background: linear-gradient(to top, rgba(0,0,0,0.6), transparent);
  color: white;
  padding: 20px;
  text-align: left;
}

.category-overlay h3 {
  margin: 0;
  font-size: 22px;
}

/* FOOTER */
footer {
  background: #E8AEB7;
  padding: 20px;
  text-align: center;
  color: white;
  margin-top: 40px;
}
@keyframes spin {
  0% { transform: rotate(0deg);}
  100% { transform: rotate(360deg);}
}
/* Close icon inside sidebar */
.sidebar-close {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 24px;
  cursor: pointer;
  color: white;
  transition: 0.3s ease;
}

.sidebar-close:hover {
  color: #FFD700; /* gold on hover */
}
/* Sidebar */
.sidebar {
  position: fixed;
  top: 0;
  left: -100%;
  width: 260px;
  height: 100%;
  background: #F9F3EE;
  box-shadow: 4px 0 20px rgba(0,0,0,0.1);
  padding-top: 60px;      /* space for close button */
  transition: left 0.35s ease;
  z-index: 9999;
  overflow-y: auto;        /* sidebar itself scrolls */
}

/* Scrollable content inside sidebar */
.sidebar-content {
  padding: 0 20px;          /* just padding for links */
}

/* Optional: smooth scroll for mobile */
.sidebar-content {
  -webkit-overflow-scrolling: touch;
}

/* Scrollbar styling */
.sidebar-content::-webkit-scrollbar {
  width: 6px;
}
.sidebar-content::-webkit-scrollbar-thumb {
  background: #C97B84;
  border-radius: 3px;
}
.sidebar-content::-webkit-scrollbar-track {
  background: #F9F3EE;
}

/* Sidebar Active */
.sidebar.active {
  left: 0;
}

/* Overlay Active */
#overlay.active {
  display: block;
  opacity: 1;
}

/* Sidebar Links */
.sidebar h3, .sidebar h4 {
  font-family: 'Playfair Display', serif;
  color: #C97B84;
  margin: 20px 0 10px 0;
}
.sidebar h4 {
  font-size: 18px;
}

.sidebar a {
  display: flex;
  align-items: center;
  font-size: 17px;
  color: #444;
  text-decoration: none;
  padding: 12px 0;
  border-radius: 10px;
  transition: 0.3s ease;
}

.sidebar a i {
  margin-right: 15px;
  font-size: 18px;
  color: #C97B84;
  transition: 0.3s ease;
}

.sidebar a:hover {
  background: #E8AEB7;
  color: white;
}

.sidebar a:hover i {
  color: white;
}

/* Close button */
.sidebar-close {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 24px;
  cursor: pointer;
  color: #C97B84;
  transition: 0.3s ease;
}

.sidebar-close:hover {
  color: #E8AEB7;
  transform: scale(1.2);
}
.update-box button {
  margin-top: 18px;
  padding: 12px 24px;
  border: none;
  border-radius: 30px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  color: white;
  background: linear-gradient(135deg, #000, #333);
  box-shadow: 0 6px 15px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

/* Loader */
.progress-container {
  width: 100%;
  background: #eee;
  border-radius: 20px;
  overflow: hidden;
  height: 25px;
  margin-top: 20px;
}

.progress-bar {
  width: 0%;
  height: 100%;
  background: gold;
  text-align: center;
  line-height: 25px;
  color: black;
  font-weight: bold;
  transition: width 0.1s ease;
}
#updatePopup {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  animation: fadeInPopup 0.4s ease;
}

.update-box {
  background: white;
  padding: 30px;
  border-radius: 20px;
  text-align: center;
  width: 320px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.15);
}

.progress-container {
  background: #eee;
  border-radius: 20px;
  overflow: hidden;
  margin-top: 20px;
}

.progress-bar {
  height: 20px;
  width: 0%;
  background: linear-gradient(90deg, #C97B84, #B8905A);
  color: white;
  font-size: 12px;
  text-align: center;
  transition: width 0.2s ease;
}

.fade-out {
  opacity: 0;
  transition: opacity 0.5s ease;
}

@keyframes fadeInPopup {
  from { opacity: 0; }
  to { opacity: 1; }
}
.version-badge {
  margin-top: 10px;
  display: inline-block;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
  background: rgba(201, 123, 132, 0.1);
  color: #C97B84;
  border: 1px solid rgba(201, 123, 132, 0.3);
  transition: 0.3s ease;
}

.version-badge.updated {
  background: rgba(76, 175, 80, 0.1);
  color: #4CAF50;
  border: 1px solid rgba(76, 175, 80, 0.3);
}

</style>
</head>

<body>
<!-- Global Spinner -->
<div id="spinner" style="
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(255,255,255,0.8);
  z-index:9999;
  justify-content:center;
  align-items:center;">
  
  <div style="
    border: 6px solid #f3f3f3;
    border-top: 6px solid #C97B84;
    border-radius: 50%;
    width:50px;
    height:50px;
    animation: spin 1s linear infinite;">
  </div>
</div>

<header>
  <div class="sidebar-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></div>
  
  <h1>Celora</h1>
  <div class="tagline">style with lyn</div>

<div class="header-buttons">
 <i class="fa-solid fa-clipboard-list wishlist-icon" title="Wishlist" onclick="goTo('/whishlist/index.html')"></i>

  <div class="cart-icon" onclick="goTo('/cart/index.html')" style="position: relative; cursor: pointer;">
    <i class="fas fa-shopping-cart" title="Cart" style="font-size:24px;"></i>
    <span id="cart-count-badge" style="
      position: absolute;
      top: -8px;
      right: -10px;
      background: #b76e79;
      color: white;
      font-size: 12px;
      font-weight: bold;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease;
    ">0</span>
  </div>
</div>


</header>

<!-- SIDEBAR & OVERLAY -->
<div id="overlay" onclick="toggleSidebar()" style="
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.4);
  z-index: 9000;
  display: none;
  transition: opacity 0.3s ease;
"></div>

<div class="sidebar" id="sidebar">
  <div class="sidebar-close" onclick="toggleSidebar()">
    <i class="fas fa-times"></i>
  </div>
  <div class="sidebar-content">
    <h3>Menu</h3>
    <a href="index.html"><i class="fas fa-home"></i> Home</a>
    <a href="/home/index.html"><i class="fas fa-th-large"></i> Categories</a>
    
    <h4>Shop</h4>
    <a href="/whishlist/index.html"><i class="fa-solid fa-clipboard-list wishlist-icon"></i> Wishlist</a>
    <a href="/favorites/index.html"><i class="fas fa-heart"></i> Favorites</a>
    <a href="/new-arrivals/index.html"><i class="fas fa-bolt"></i> New Arrivals</a>
    <a href="/deals/index.html"><i class="fas fa-tags"></i> Deals</a>
    <a href="/cart/index.html"><i class="fas fa-shopping-cart"></i> Cart</a>
    <a href="/about/index.html"><i class="fas fa-info-circle"></i> About</a>
    <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
    
  </div>
</div>
<section class="hero">
  <h2>Shop by Category</h2>
  <p>Choose your vibe and discover soft, dreamy pieces made for your everyday elegance üíñ</p>
</section>
<section class="categories">
  <div class="category-card" onclick="goTo('/church elegance/index.html')">
    <img src="/pics/WhatsApp Image 2026-02-28 at 13.28.28.jpeg">
    <div class="category-overlay">
      <h3>Church Elegance</h3>
    </div>
  </div>

  <div class="category-card" onclick="goTo('brunch.html')">
    <img src="/pics/WhatsApp Image 2026-02-28 at 13.28.28 (2).jpeg">
    <div class="category-overlay">
      <h3>Brunch Chic</h3>
    </div>
  </div>

  <div class="category-card" onclick="goTo('floral.html')">
    <img src="/pics/WhatsApp Image 2026-02-28 at 13.28.30 (3).jpeg">
    <div class="category-overlay">
      <h3>Floral Dreams</h3>
    </div>
  </div>

  <div class="category-card" onclick="goTo('lounge.html')">
    <img src="/pics/WhatsApp Image 2026-02-28 at 13.28.30.jpeg">
    <div class="category-overlay">
      <h3>Soft Lounge</h3>
    </div>
  </div>
</section>

<footer>
  ¬© 2026 Celora. All Rights Reserved.
  <div class="version-badge" id="versionBadge">
    Version <span id="appVersionText"></span>
  </div>
</footer>


<script>
function goTo(page) {
  const spinner = document.getElementById('spinner');
  spinner.style.display = 'flex';

  // Short delay for smooth effect
  setTimeout(() => {
    window.location.href = page;
  }, 600);
}
// Show spinner on all internal link clicks
document.addEventListener('DOMContentLoaded', () => {
  const spinner = document.getElementById('spinner');

  // Select all links
  document.querySelectorAll('a[href]').forEach(link => {
    // Only intercept internal links (same origin)
    if (link.href.startsWith(window.location.origin)) {
      link.addEventListener('click', function(e) {
        e.preventDefault(); // prevent instant navigation
        spinner.style.display = 'flex';

        // Navigate after a short delay
        setTimeout(() => {
          window.location.href = link.href;
        }, 400); // 400ms delay
      });
    }
  });
});


// Toggle sidebar and overlay
function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');
  sidebar.classList.toggle('active');
  overlay.classList.toggle('active');
}

</script>
<script>
// üî• CHANGE THIS NUMBER EVERY TIME YOU UPDATE YOUR APP
const APP_VERSION = "1.0.7";

// Immediately check for success popup on page load
checkImmediateUpdate();

// Function to check version periodically
function checkAppVersion() {
  const savedVersion = localStorage.getItem("app_version");

  // FIRST VISIT ‚Üí just store version
  if (!savedVersion) {
    localStorage.setItem("app_version", APP_VERSION);
    return;
  }

  // Version changed while user is on site
  if (savedVersion !== APP_VERSION && !document.getElementById("updatePopup")) {
    setTimeout(() => {
      if (!document.getElementById("updatePopup")) {
        showRefreshPopup();
      }
    }, 15000);
  }
}


// Run version check every 15 seconds for real-time updates
setTimeout(checkAppVersion, 15000);


// FIRST POPUP (Ask to Refresh)
function showRefreshPopup() {
  const popup = document.createElement("div");
  popup.id = "updatePopup";
  popup.innerHTML = `
    <div class="update-box">
      <h2>üöÄ New Update Available</h2>
      <p>We've added new features and improvements.</p>
      <p>Please refresh to get the latest version.</p>
      <button onclick="startUpdateLoader()">Refresh Now</button>
    </div>
  `;
  document.body.appendChild(popup);
}

// START PROGRESS LOADER
function startUpdateLoader() {
  const popup = document.getElementById("updatePopup");
  if (!popup) return;

  // Replace content with loader
  popup.innerHTML = `
    <div class="update-box">
      <h2>Updating...</h2>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar">0%</div>
      </div>
    </div>
  `;

  let progress = 0;
  const interval = setInterval(() => {
    progress += Math.floor(Math.random() * 5) + 1; // Random increment for effect
    if (progress > 100) progress = 100;

    const bar = document.getElementById("progressBar");
    bar.style.width = progress + "%";
    bar.textContent = progress + "%";

    if (progress >= 100) {
      clearInterval(interval);
      localStorage.setItem("app_version", APP_VERSION);
      localStorage.setItem("just_updated", "true");
      location.reload();
    }
  }, 100); // update every 100ms
}

// SECOND POPUP (After Refresh)
function showSuccessPopup() {
  if (document.getElementById("updatePopup")) return; // avoid duplicate
  const popup = document.createElement("div");
  popup.id = "updatePopup";
  popup.innerHTML = `
    <div class="update-box">
      <div class="checkmark">‚úî</div>
      <h2>Updated to Version ${APP_VERSION}</h2>
      <p>Update completed successfully!</p>
      <p class="enjoy">Enjoy Shopping in <strong>CELORA</strong> üõçÔ∏è</p>
    </div>
  `;
  document.body.appendChild(popup);

  setTimeout(() => {
    const el = document.getElementById("updatePopup");
    if (el) el.classList.add("fade-out");
    setTimeout(() => {
      const el2 = document.getElementById("updatePopup");
      if (el2) el2.remove();
    }, 500);
  }, 5000);
}

// Immediate check for success popup on page load
function checkImmediateUpdate() {
  const justUpdated = localStorage.getItem("just_updated");
  if (justUpdated === "true") {
    showSuccessPopup();
    localStorage.removeItem("just_updated");
  }
const badge = document.getElementById("versionBadge");
if (badge) {
  badge.classList.add("updated");
}
setTimeout(() => {
  if (badge) badge.classList.remove("updated");
}, 5000);

  // Also check version immediately for in-page updates (will delay refresh popup)
  checkAppVersion();
}
// Display version in footer
function displayVersion() {
  const versionText = document.getElementById("appVersionText");
  if (versionText) {
    versionText.textContent = APP_VERSION;
  }
}
displayVersion();
// Function to update the cart count from localStorage
// Update the cart count badge
function updateCartCountBadge() {
  const cart = JSON.parse(localStorage.getItem('cart') || '[]');
  const totalQty = cart.reduce((sum, item) => sum + item.qty, 0);
  const badge = document.getElementById('cart-count-badge');
  if (badge) {
    badge.textContent = totalQty;
    // Optional: simple pulse animation on change
    badge.style.transform = 'scale(1.3)';
    setTimeout(() => { badge.style.transform = 'scale(1)'; }, 200);
  }
}

// Run on page load
window.onload = () => {
  updateCartCountBadge();
};
</script>

</body>
</html>
